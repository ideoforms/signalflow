set(SRC ${SRC}
        ${CMAKE_CURRENT_SOURCE_DIR}/buffer/buffer.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/buffer/buffer2d.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/core/graph.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/core/config.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/core/core.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/core/graph-monitor.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/core/random.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/core/renderer.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/core/util.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/node.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/node-monitor.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/registry.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/stochastic-node.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/logistic.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/white-noise.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/pink-noise.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-impulse.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-impulse-sequence.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-uniform.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-exponential.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-exponential-dist.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-gaussian.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-brownian.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-coin.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/stochastic/random-choice.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/envelope/adsr.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/envelope/asr.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/envelope/envelope.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/envelope/line.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/envelope/rect.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/envelope/detect-silence.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/fft.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/fftnode.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/ifft.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/lpf.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/noise-gate.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/phase-vocoder.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/continuous-pv.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/tonality.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/convolve.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/fft/find-peaks.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/delays/comb.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/delays/allpass.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/delays/onetap.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/delays/stutter.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/distortion/sample-and-hold.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/distortion/resample.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/distortion/squiz.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/distortion/waveshaper.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/dynamics/gate.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/dynamics/rms.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/dynamics/maximiser.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/dynamics/compressor.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/filters/biquad.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/filters/svf.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/filters/eq.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/filters/moog.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/panning/stereo-panner.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/panning/stereo-balance.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/panning/stereo-width.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/panning/channel-panner.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/panning/azimuth-panner.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/panning/spatial-environment.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/smooth.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/clip.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/wrap.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/fold.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/processors/wetdry.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/io/input/abstract.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/io/input/soundio.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/io/output/abstract.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/io/output/dummy.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/io/output/soundio.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/add.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/amplitude-to-decibels.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/divide.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/channel-mixer.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/channel-array.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/channel-select.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/frequency-to-midi-note.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/midi-note-to-frequency.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/multiply.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/pow.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/round.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/round-to-scale.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/scale.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/subtract.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/sum.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/trigonometry.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/operators/comparison.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/constant.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/saw.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/sine.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/square.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/impulse.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/triangle.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/wavetable.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/lfo/lfo.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/lfo/sine-lfo.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/lfo/saw-lfo.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/lfo/triangle-lfo.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/oscillators/lfo/square-lfo.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/buffer-recorder.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/buffer-player.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/buffer-looper.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/feedback-buffer-reader.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/feedback-buffer-writer.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/grainsegments.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/granulator.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/segment-player.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/buffer/beat-cutter.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/counter.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/index.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/flipflop.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/latch.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/clock-divider.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/sequence.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/impulse-sequence.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/sequencing/euclidean.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/analysis/vamp.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/analysis/cross-correlate.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/node/analysis/onset-detector.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/patch/patch-node-spec.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/patch/patch.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/patch/patch-registry.cpp
        ${CMAKE_CURRENT_SOURCE_DIR}/patch/patch-spec.cpp
        )

if (CMAKE_BUILD_PYTHON)
    set(SRC ${SRC}
            ${CMAKE_CURRENT_SOURCE_DIR}/python/python.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/constants.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/exceptions.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/node.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/nodes.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/config.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/graph.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/buffer.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/patch.cpp
            ${CMAKE_CURRENT_SOURCE_DIR}/python/util.cpp
            )
endif ()

if (CMAKE_SYSTEM_NAME STREQUAL "Darwin")
    set(SRC ${SRC}
            ${CMAKE_CURRENT_SOURCE_DIR}/node/control/mouse.mm
            )
endif ()

set(SRC ${SRC} PARENT_SCOPE)
